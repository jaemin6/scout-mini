cmake_minimum_required(VERSION 3.8)
project(scout_robot_interfaces)

if(CMAKE_COMPILER_IS_GNUCXX OR CMAKE_CXX_COMPILER_ID MATCHES "Clang")
  add_compile_options(-Wall -Wextra -Wpedantic)
endif()

# find dependencies
find_package(ament_cmake REQUIRED)

# ğŸŒŸğŸŒŸğŸŒŸ ì•¡ì…˜ ë©”ì‹œì§€ ë¹Œë“œì— í•„ìš”í•œ íŒ¨í‚¤ì§€ ì¶”ê°€ ğŸŒŸğŸŒŸğŸŒŸ
find_package(rosidl_default_generators REQUIRED)
find_package(rosidl_adapter REQUIRED)

# -------------------------------------------------------------
# ğŸŒŸğŸŒŸğŸŒŸ ì•¡ì…˜ ì¸í„°í˜ì´ìŠ¤ ì •ì˜ ë° ë¹Œë“œ ğŸŒŸğŸŒŸğŸŒŸ
# -------------------------------------------------------------
rosidl_generate_action_interfaces(
  # ì—¬ê¸°ì— ëª¨ë“  .action íŒŒì¼ì„ ë‚˜ì—´í•©ë‹ˆë‹¤.
  action/NavigateRoom.action
  action/RotateRobot.action
  # DEPENDENCIESëŠ” action íŒŒì¼ ë‚´ì—ì„œ ì‚¬ìš©í•˜ëŠ” ë©”ì‹œì§€ íƒ€ì…ì…ë‹ˆë‹¤.
  DEPENDENCIES std_msgs action_msgs
)

# -------------------------------------------------------------
# ğŸŒŸğŸŒŸğŸŒŸ ì„¤ì¹˜ ì„¤ì • ğŸŒŸğŸŒŸğŸŒŸ
# -------------------------------------------------------------

# ë¹Œë“œëœ ì•¡ì…˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ ROS í™˜ê²½ì— ì„¤ì¹˜í•©ë‹ˆë‹¤.
install(
  PROGRAMS
    # ë¹Œë“œëœ íŒŒì´ì¬ ëª¨ë“ˆì´ ìˆë‹¤ë©´ ì—¬ê¸°ì— ì¶”ê°€
  DESTINATION lib/${PROJECT_NAME}
)

# .action íŒŒì¼ì´ ë‹´ê¸´ 'action' í´ë”ë¥¼ ì„¤ì¹˜í•©ë‹ˆë‹¤. (ë‹¤ë¥¸ íŒ¨í‚¤ì§€ì—ì„œ ì°¸ì¡° ê°€ëŠ¥í•˜ê²Œ)
install(
  DIRECTORY action
  DESTINATION share/${PROJECT_NAME}
)

# ê¸°ì¡´ ì„¤ì¹˜ ì„¤ì • ìœ ì§€
install(
  DIRECTORY include/
  DESTINATION include
)
install(
  DIRECTORY src/
  DESTINATION lib/${PROJECT_NAME}
)

# -------------------------------------------------------------
# ğŸŒŸğŸŒŸğŸŒŸ íŒ¨í‚¤ì§€ ë‚´ë³´ë‚´ê¸° ğŸŒŸğŸŒŸğŸŒŸ
# -------------------------------------------------------------

if(BUILD_TESTING)
  find_package(ament_lint_auto REQUIRED)
  # the following line skips the linter which checks for copyrights
  # comment the line when a copyright and license is added to all source files
  set(ament_cmake_copyright_FOUND TRUE)
  # the following line skips cpplint (only works in a git repo)
  # comment the line when this package is in a git repo and when
  # a copyright and license is added to all source files
  set(ament_cmake_cpplint_FOUND TRUE)
  ament_lint_auto_find_test_dependencies()
endif()

ament_package()

# ğŸŒŸğŸŒŸğŸŒŸ rosidl_default_generatorsì˜ ëŸ°íƒ€ì„ ì¢…ì†ì„±ì„ ë‚´ë³´ëƒ…ë‹ˆë‹¤. ğŸŒŸğŸŒŸğŸŒŸ
# ì´ ë¶€ë¶„ì´ ìˆì–´ì•¼ íŒŒì´ì¬ì—ì„œ ì•¡ì…˜ì„ import í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ament_export_dependencies(rosidl_default_generators)